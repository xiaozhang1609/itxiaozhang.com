<!DOCTYPE html>
<html lang="zh" dir="auto" data-theme="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Bilibiliç²‰ä¸æ•°æ®è·å–å·¥å…· | ITå°ç« </title>
<meta name="keywords" content="python, çˆ¬è™«, å“”å“©å“”å“©">
<meta name="description" content="æœ¬æ–‡ä»‹ç»äº†ä¸€ä¸ªåŸºäºPythonå¼€å‘çš„Bilibiliç²‰ä¸æ•°æ®è·å–å·¥å…·ï¼Œæ”¯æŒæ‰¹é‡è·å–ç²‰ä¸ä¿¡æ¯å¹¶ç”ŸæˆHTMLå±•ç¤ºé¡µé¢ã€‚æ–‡ç« è¯¦ç»†è®²è§£äº†Cookieè·å–æ–¹æ³•ã€ç¯å¢ƒé…ç½®ã€ä½¿ç”¨æ­¥éª¤å’Œå¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆï¼Œå¹¶æä¾›å®Œæ•´çš„æºç ã€‚é€‚åˆUPä¸»è¿›è¡Œç²‰ä¸ç»Ÿè®¡åˆ†æå’Œæ•°æ®å¤‡ä»½ä½¿ç”¨ã€‚">
<meta name="author" content="ITå°ç« ">
<link rel="canonical" href="http://localhost:1313/bilibili-followers-data-fetcher-python-tutorial-guide/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fd5566c526ae48aadabd950798a2dc3568536401560eae5caac3765a42a9e7b5.css" integrity="sha256-/VVmxSauSKravZUHmKLcNWhTZAFWDq5cqsN2WkKp57U=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/images/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/images/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/images/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/images/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/images/favicon.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="http://localhost:1313/bilibili-followers-data-fetcher-python-tutorial-guide/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script><link rel="manifest" href="/site.webmanifest">
<link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png">
<link rel="icon" type="image/svg+xml" href="/images/favicon.svg">

</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="ITå°ç«  (Alt + H)">ITå°ç« </a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/" title="ğŸ  é¦–é¡µ">
                    <span>ğŸ  é¦–é¡µ</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/posts/" title="ğŸ“š æ–‡ç« ">
                    <span>ğŸ“š æ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/archives/" title="â±ï¸ å½’æ¡£">
                    <span>â±ï¸ å½’æ¡£</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="ğŸ” æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>ğŸ” æœç´¢</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/about/" title="ğŸ™‹ å…³äº">
                    <span>ğŸ™‹ å…³äº</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">
<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Bilibiliç²‰ä¸æ•°æ®è·å–å·¥å…·
    </h1>
    <div class="post-description">
      æœ¬æ–‡ä»‹ç»äº†ä¸€ä¸ªåŸºäºPythonå¼€å‘çš„Bilibiliç²‰ä¸æ•°æ®è·å–å·¥å…·ï¼Œæ”¯æŒæ‰¹é‡è·å–ç²‰ä¸ä¿¡æ¯å¹¶ç”ŸæˆHTMLå±•ç¤ºé¡µé¢ã€‚æ–‡ç« è¯¦ç»†è®²è§£äº†Cookieè·å–æ–¹æ³•ã€ç¯å¢ƒé…ç½®ã€ä½¿ç”¨æ­¥éª¤å’Œå¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆï¼Œå¹¶æä¾›å®Œæ•´çš„æºç ã€‚é€‚åˆUPä¸»è¿›è¡Œç²‰ä¸ç»Ÿè®¡åˆ†æå’Œæ•°æ®å¤‡ä»½ä½¿ç”¨ã€‚
    </div>
    <div class="post-meta"><span title='2025-11-01 18:06:16 +0800 CST'>2025å¹´11æœˆ1æ—¥</span>&nbsp;Â·&nbsp;<span>7 åˆ†é’Ÿ</span>&nbsp;Â·&nbsp;<span>ITå°ç« </span>

</div>
  </header> 
  <div class="post-content"><blockquote>
<p>åŸæ–‡åœ°å€ï¼š<a href="https://itxiaozhang.com/bilibili-followers-data-fetcher-python-tutorial-guide/">https://itxiaozhang.com/bilibili-followers-data-fetcher-python-tutorial-guide/</a><br>
å¦‚æœæ‚¨éœ€è¦è¿œç¨‹ç”µè„‘ç»´ä¿®æˆ–è€…ç¼–ç¨‹å¼€å‘ï¼Œè¯·<a href="https://zhang9.cn">åŠ æˆ‘å¾®ä¿¡</a>å’¨è¯¢ã€‚</p>
</blockquote>
<h1 id="bilibiliç²‰ä¸æ•°æ®è·å–å·¥å…·ä½¿ç”¨æŒ‡å—">Bilibiliç²‰ä¸æ•°æ®è·å–å·¥å…·ä½¿ç”¨æŒ‡å—<a hidden class="anchor" aria-hidden="true" href="#bilibiliç²‰ä¸æ•°æ®è·å–å·¥å…·ä½¿ç”¨æŒ‡å—">#</a></h1>
<h2 id="ä¸€å·¥å…·ä»‹ç»">ä¸€ã€å·¥å…·ä»‹ç»<a hidden class="anchor" aria-hidden="true" href="#ä¸€å·¥å…·ä»‹ç»">#</a></h2>
<p>æœ¬å·¥å…·æ˜¯ä¸€ä¸ªåŸºäºPythonå¼€å‘çš„Bilibiliç²‰ä¸æ•°æ®è·å–ç¨‹åºï¼Œèƒ½å¤Ÿæ‰¹é‡è·å–ç”¨æˆ·çš„ç²‰ä¸ä¿¡æ¯å¹¶ç”Ÿæˆç¾è§‚çš„HTMLå±•ç¤ºé¡µé¢ã€‚</p>
<p><strong>ä¸»è¦åŠŸèƒ½ï¼š</strong></p>
<ul>
<li>æ‰¹é‡è·å–Bilibiliç²‰ä¸æ•°æ®ï¼ˆæœ€å¤š1000ä¸ªç²‰ä¸ï¼‰</li>
<li>è‡ªåŠ¨è¿‡æ»¤é»˜è®¤å¤´åƒç”¨æˆ·ï¼Œæå‡æ•°æ®è´¨é‡</li>
<li>ç”Ÿæˆå“åº”å¼HTMLé¡µé¢ï¼Œæ”¯æŒå¤šè®¾å¤‡æŸ¥çœ‹</li>
<li>å¼‚æ­¥å¤„ç†ï¼Œæé«˜æ•°æ®è·å–æ•ˆç‡</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>UPä¸»äº†è§£ç²‰ä¸æ„æˆ</li>
<li>åˆ¶ä½œç²‰ä¸æ„Ÿè°¢é¡µé¢</li>
<li>ä¸ªäººæ•°æ®ç»Ÿè®¡å¤‡ä»½</li>
</ul>
<h2 id="äºŒcookieè·å–æ–¹æ³•">äºŒã€Cookieè·å–æ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#äºŒcookieè·å–æ–¹æ³•">#</a></h2>
<h3 id="chromeæµè§ˆå™¨è·å–æ­¥éª¤">Chromeæµè§ˆå™¨è·å–æ­¥éª¤ï¼š<a hidden class="anchor" aria-hidden="true" href="#chromeæµè§ˆå™¨è·å–æ­¥éª¤">#</a></h3>
<ol>
<li>ç™»å½•Bilibiliè´¦å·</li>
<li>æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·</li>
<li>åˆ‡æ¢åˆ°&quot;Network&quot;ï¼ˆç½‘ç»œï¼‰æ ‡ç­¾é¡µ</li>
<li>åˆ·æ–°é¡µé¢æˆ–éšæ„ç‚¹å‡»ä¸€ä¸ªé“¾æ¥</li>
<li>åœ¨è¯·æ±‚åˆ—è¡¨ä¸­æ‰¾åˆ°ä»»æ„ä¸€ä¸ªè¯·æ±‚</li>
<li>åœ¨å³ä¾§&quot;Headers&quot;ä¸­æ‰¾åˆ°&quot;Cookie&quot;å­—æ®µ</li>
<li>å¤åˆ¶å®Œæ•´çš„Cookieå†…å®¹</li>
</ol>
<h3 id="å®‰å…¨æ³¨æ„äº‹é¡¹">å®‰å…¨æ³¨æ„äº‹é¡¹ï¼š<a hidden class="anchor" aria-hidden="true" href="#å®‰å…¨æ³¨æ„äº‹é¡¹">#</a></h3>
<ul>
<li>CookieåŒ…å«æ‚¨çš„ç™»å½•å‡­è¯ï¼Œè¯·å¦¥å–„ä¿ç®¡</li>
<li>ä¸è¦å°†Cookieåˆ†äº«ç»™ä»–äºº</li>
<li>å»ºè®®å®šæœŸæ›´æ–°Cookieä»¥ä¿è¯å®‰å…¨æ€§</li>
</ul>
<h2 id="ä¸‰ç¯å¢ƒå‡†å¤‡">ä¸‰ã€ç¯å¢ƒå‡†å¤‡<a hidden class="anchor" aria-hidden="true" href="#ä¸‰ç¯å¢ƒå‡†å¤‡">#</a></h2>
<h3 id="ç³»ç»Ÿè¦æ±‚">ç³»ç»Ÿè¦æ±‚ï¼š<a hidden class="anchor" aria-hidden="true" href="#ç³»ç»Ÿè¦æ±‚">#</a></h3>
<ul>
<li>Python 3.7 æˆ–æ›´é«˜ç‰ˆæœ¬</li>
<li>ç¨³å®šçš„ç½‘ç»œè¿æ¥</li>
</ul>
<h3 id="ä¾èµ–å®‰è£…">ä¾èµ–å®‰è£…ï¼š<a hidden class="anchor" aria-hidden="true" href="#ä¾èµ–å®‰è£…">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-0-1"><a class="lnlinks" href="#hl-0-1">1</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">pip install aiohttp
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="å››ä½¿ç”¨æ­¥éª¤">å››ã€ä½¿ç”¨æ­¥éª¤<a hidden class="anchor" aria-hidden="true" href="#å››ä½¿ç”¨æ­¥éª¤">#</a></h2>
<h3 id="1-é…ç½®cookie">1. é…ç½®Cookie<a hidden class="anchor" aria-hidden="true" href="#1-é…ç½®cookie">#</a></h3>
<p>æ‰“å¼€ <code>bilibili_followers_fetcher.py</code> æ–‡ä»¶ï¼Œæ‰¾åˆ°ä»¥ä¸‹ä»£ç è¡Œï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-1-1"><a class="lnlinks" href="#hl-1-1">1</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s1">&#39;Cookie&#39;</span><span class="p">:</span> <span class="s1">&#39;SESSDATA=ä½ çš„SESSDATAå†…å®¹&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å°†å…¶ä¸­çš„SESSDATAå†…å®¹æ›¿æ¢ä¸ºæ‚¨ä»æµè§ˆå™¨è·å–çš„çœŸå®Cookieä¸­çš„SESSDATAéƒ¨åˆ†ã€‚</p>
<h3 id="2-è¿è¡Œç¨‹åº">2. è¿è¡Œç¨‹åº<a hidden class="anchor" aria-hidden="true" href="#2-è¿è¡Œç¨‹åº">#</a></h3>
<p>åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-2-1"><a class="lnlinks" href="#hl-2-1">1</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">python bilibili_followers_fetcher.py
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="3-æŸ¥çœ‹ç»“æœ">3. æŸ¥çœ‹ç»“æœ<a hidden class="anchor" aria-hidden="true" href="#3-æŸ¥çœ‹ç»“æœ">#</a></h3>
<p>ç¨‹åºè¿è¡Œå®Œæˆåï¼Œä¼šåœ¨å½“å‰ç›®å½•ç”Ÿæˆ <code>followers.html</code> æ–‡ä»¶ï¼Œç”¨æµè§ˆå™¨æ‰“å¼€å³å¯æŸ¥çœ‹ç²‰ä¸åˆ—è¡¨ã€‚</p>
<h2 id="äº”å¸¸è§é—®é¢˜è§£å†³">äº”ã€å¸¸è§é—®é¢˜è§£å†³<a hidden class="anchor" aria-hidden="true" href="#äº”å¸¸è§é—®é¢˜è§£å†³">#</a></h2>
<h3 id="cookieç›¸å…³é—®é¢˜">Cookieç›¸å…³é—®é¢˜ï¼š<a hidden class="anchor" aria-hidden="true" href="#cookieç›¸å…³é—®é¢˜">#</a></h3>
<ul>
<li><strong>Cookieè¿‡æœŸ</strong>ï¼šé‡æ–°ä»æµè§ˆå™¨è·å–æœ€æ–°Cookie</li>
<li><strong>æƒé™ä¸è¶³</strong>ï¼šç¡®è®¤è´¦å·å·²æ­£å¸¸ç™»å½•Bilibili</li>
<li><strong>æ ¼å¼é”™è¯¯</strong>ï¼šæ£€æŸ¥Cookieæ˜¯å¦å®Œæ•´å¤åˆ¶</li>
</ul>
<h3 id="ç½‘ç»œç›¸å…³é—®é¢˜">ç½‘ç»œç›¸å…³é—®é¢˜ï¼š<a hidden class="anchor" aria-hidden="true" href="#ç½‘ç»œç›¸å…³é—®é¢˜">#</a></h3>
<ul>
<li><strong>è¯·æ±‚è¶…æ—¶</strong>ï¼šæ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œç¨åé‡è¯•</li>
<li><strong>APIé”™è¯¯</strong>ï¼šå¯èƒ½æ˜¯è¯·æ±‚é¢‘ç‡è¿‡é«˜ï¼Œç­‰å¾…ä¸€æ®µæ—¶é—´åé‡è¯•</li>
<li><strong>æ•°æ®ä¸å®Œæ•´</strong>ï¼šç½‘ç»œä¸ç¨³å®šå¯¼è‡´ï¼Œå¯é‡æ–°è¿è¡Œç¨‹åº</li>
</ul>
<h3 id="æ•°æ®ç›¸å…³é—®é¢˜">æ•°æ®ç›¸å…³é—®é¢˜ï¼š<a hidden class="anchor" aria-hidden="true" href="#æ•°æ®ç›¸å…³é—®é¢˜">#</a></h3>
<ul>
<li><strong>ç²‰ä¸æ•°é‡é™åˆ¶</strong>ï¼šç¨‹åºæœ€å¤šè·å–1000ä¸ªç²‰ä¸ï¼ˆ20é¡µÃ—50ä¸ªï¼‰</li>
<li><strong>éƒ¨åˆ†ç²‰ä¸ç¼ºå¤±</strong>ï¼šBilibili APIé™åˆ¶ï¼Œå±äºæ­£å¸¸ç°è±¡</li>
<li><strong>æ–‡ä»¶ç¼–ç é—®é¢˜</strong>ï¼šç¡®ä¿ä½¿ç”¨UTF-8ç¼–ç æ‰“å¼€HTMLæ–‡ä»¶</li>
</ul>
<h2 id="å…­æ³¨æ„äº‹é¡¹">å…­ã€æ³¨æ„äº‹é¡¹<a hidden class="anchor" aria-hidden="true" href="#å…­æ³¨æ„äº‹é¡¹">#</a></h2>
<h3 id="åˆè§„ä½¿ç”¨">åˆè§„ä½¿ç”¨ï¼š<a hidden class="anchor" aria-hidden="true" href="#åˆè§„ä½¿ç”¨">#</a></h3>
<ul>
<li>æœ¬å·¥å…·ä»…ä¾›ä¸ªäººå­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨</li>
<li>è¯·éµå®ˆBilibiliå¹³å°çš„ä½¿ç”¨æ¡æ¬¾</li>
<li>ä¸å¾—å°†è·å–çš„æ•°æ®ç”¨äºå•†ä¸šç”¨é€”</li>
</ul>
<h3 id="ä½¿ç”¨å»ºè®®">ä½¿ç”¨å»ºè®®ï¼š<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨å»ºè®®">#</a></h3>
<ul>
<li>æ§åˆ¶ä½¿ç”¨é¢‘ç‡ï¼Œé¿å…å¯¹æœåŠ¡å™¨é€ æˆå‹åŠ›</li>
<li>å°Šé‡ç”¨æˆ·éšç§ï¼Œä¸è¦æ³„éœ²ä»–äººä¿¡æ¯</li>
<li>å»ºè®®åœ¨ç½‘ç»œç©ºé—²æ—¶æ®µä½¿ç”¨</li>
</ul>
<h2 id="ä¸ƒå®Œæ•´æºç ">ä¸ƒã€å®Œæ•´æºç <a hidden class="anchor" aria-hidden="true" href="#ä¸ƒå®Œæ•´æºç ">#</a></h2>
<p>ä»¥ä¸‹æ˜¯å®Œæ•´çš„Pythonæºç ï¼š</p>
<p>{% raw %}</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-3-1"><a class="lnlinks" href="#hl-3-1">  1</a>
</span><span class="lnt" id="hl-3-2"><a class="lnlinks" href="#hl-3-2">  2</a>
</span><span class="lnt" id="hl-3-3"><a class="lnlinks" href="#hl-3-3">  3</a>
</span><span class="lnt" id="hl-3-4"><a class="lnlinks" href="#hl-3-4">  4</a>
</span><span class="lnt" id="hl-3-5"><a class="lnlinks" href="#hl-3-5">  5</a>
</span><span class="lnt" id="hl-3-6"><a class="lnlinks" href="#hl-3-6">  6</a>
</span><span class="lnt" id="hl-3-7"><a class="lnlinks" href="#hl-3-7">  7</a>
</span><span class="lnt" id="hl-3-8"><a class="lnlinks" href="#hl-3-8">  8</a>
</span><span class="lnt" id="hl-3-9"><a class="lnlinks" href="#hl-3-9">  9</a>
</span><span class="lnt" id="hl-3-10"><a class="lnlinks" href="#hl-3-10"> 10</a>
</span><span class="lnt" id="hl-3-11"><a class="lnlinks" href="#hl-3-11"> 11</a>
</span><span class="lnt" id="hl-3-12"><a class="lnlinks" href="#hl-3-12"> 12</a>
</span><span class="lnt" id="hl-3-13"><a class="lnlinks" href="#hl-3-13"> 13</a>
</span><span class="lnt" id="hl-3-14"><a class="lnlinks" href="#hl-3-14"> 14</a>
</span><span class="lnt" id="hl-3-15"><a class="lnlinks" href="#hl-3-15"> 15</a>
</span><span class="lnt" id="hl-3-16"><a class="lnlinks" href="#hl-3-16"> 16</a>
</span><span class="lnt" id="hl-3-17"><a class="lnlinks" href="#hl-3-17"> 17</a>
</span><span class="lnt" id="hl-3-18"><a class="lnlinks" href="#hl-3-18"> 18</a>
</span><span class="lnt" id="hl-3-19"><a class="lnlinks" href="#hl-3-19"> 19</a>
</span><span class="lnt" id="hl-3-20"><a class="lnlinks" href="#hl-3-20"> 20</a>
</span><span class="lnt" id="hl-3-21"><a class="lnlinks" href="#hl-3-21"> 21</a>
</span><span class="lnt" id="hl-3-22"><a class="lnlinks" href="#hl-3-22"> 22</a>
</span><span class="lnt" id="hl-3-23"><a class="lnlinks" href="#hl-3-23"> 23</a>
</span><span class="lnt" id="hl-3-24"><a class="lnlinks" href="#hl-3-24"> 24</a>
</span><span class="lnt" id="hl-3-25"><a class="lnlinks" href="#hl-3-25"> 25</a>
</span><span class="lnt" id="hl-3-26"><a class="lnlinks" href="#hl-3-26"> 26</a>
</span><span class="lnt" id="hl-3-27"><a class="lnlinks" href="#hl-3-27"> 27</a>
</span><span class="lnt" id="hl-3-28"><a class="lnlinks" href="#hl-3-28"> 28</a>
</span><span class="lnt" id="hl-3-29"><a class="lnlinks" href="#hl-3-29"> 29</a>
</span><span class="lnt" id="hl-3-30"><a class="lnlinks" href="#hl-3-30"> 30</a>
</span><span class="lnt" id="hl-3-31"><a class="lnlinks" href="#hl-3-31"> 31</a>
</span><span class="lnt" id="hl-3-32"><a class="lnlinks" href="#hl-3-32"> 32</a>
</span><span class="lnt" id="hl-3-33"><a class="lnlinks" href="#hl-3-33"> 33</a>
</span><span class="lnt" id="hl-3-34"><a class="lnlinks" href="#hl-3-34"> 34</a>
</span><span class="lnt" id="hl-3-35"><a class="lnlinks" href="#hl-3-35"> 35</a>
</span><span class="lnt" id="hl-3-36"><a class="lnlinks" href="#hl-3-36"> 36</a>
</span><span class="lnt" id="hl-3-37"><a class="lnlinks" href="#hl-3-37"> 37</a>
</span><span class="lnt" id="hl-3-38"><a class="lnlinks" href="#hl-3-38"> 38</a>
</span><span class="lnt" id="hl-3-39"><a class="lnlinks" href="#hl-3-39"> 39</a>
</span><span class="lnt" id="hl-3-40"><a class="lnlinks" href="#hl-3-40"> 40</a>
</span><span class="lnt" id="hl-3-41"><a class="lnlinks" href="#hl-3-41"> 41</a>
</span><span class="lnt" id="hl-3-42"><a class="lnlinks" href="#hl-3-42"> 42</a>
</span><span class="lnt" id="hl-3-43"><a class="lnlinks" href="#hl-3-43"> 43</a>
</span><span class="lnt" id="hl-3-44"><a class="lnlinks" href="#hl-3-44"> 44</a>
</span><span class="lnt" id="hl-3-45"><a class="lnlinks" href="#hl-3-45"> 45</a>
</span><span class="lnt" id="hl-3-46"><a class="lnlinks" href="#hl-3-46"> 46</a>
</span><span class="lnt" id="hl-3-47"><a class="lnlinks" href="#hl-3-47"> 47</a>
</span><span class="lnt" id="hl-3-48"><a class="lnlinks" href="#hl-3-48"> 48</a>
</span><span class="lnt" id="hl-3-49"><a class="lnlinks" href="#hl-3-49"> 49</a>
</span><span class="lnt" id="hl-3-50"><a class="lnlinks" href="#hl-3-50"> 50</a>
</span><span class="lnt" id="hl-3-51"><a class="lnlinks" href="#hl-3-51"> 51</a>
</span><span class="lnt" id="hl-3-52"><a class="lnlinks" href="#hl-3-52"> 52</a>
</span><span class="lnt" id="hl-3-53"><a class="lnlinks" href="#hl-3-53"> 53</a>
</span><span class="lnt" id="hl-3-54"><a class="lnlinks" href="#hl-3-54"> 54</a>
</span><span class="lnt" id="hl-3-55"><a class="lnlinks" href="#hl-3-55"> 55</a>
</span><span class="lnt" id="hl-3-56"><a class="lnlinks" href="#hl-3-56"> 56</a>
</span><span class="lnt" id="hl-3-57"><a class="lnlinks" href="#hl-3-57"> 57</a>
</span><span class="lnt" id="hl-3-58"><a class="lnlinks" href="#hl-3-58"> 58</a>
</span><span class="lnt" id="hl-3-59"><a class="lnlinks" href="#hl-3-59"> 59</a>
</span><span class="lnt" id="hl-3-60"><a class="lnlinks" href="#hl-3-60"> 60</a>
</span><span class="lnt" id="hl-3-61"><a class="lnlinks" href="#hl-3-61"> 61</a>
</span><span class="lnt" id="hl-3-62"><a class="lnlinks" href="#hl-3-62"> 62</a>
</span><span class="lnt" id="hl-3-63"><a class="lnlinks" href="#hl-3-63"> 63</a>
</span><span class="lnt" id="hl-3-64"><a class="lnlinks" href="#hl-3-64"> 64</a>
</span><span class="lnt" id="hl-3-65"><a class="lnlinks" href="#hl-3-65"> 65</a>
</span><span class="lnt" id="hl-3-66"><a class="lnlinks" href="#hl-3-66"> 66</a>
</span><span class="lnt" id="hl-3-67"><a class="lnlinks" href="#hl-3-67"> 67</a>
</span><span class="lnt" id="hl-3-68"><a class="lnlinks" href="#hl-3-68"> 68</a>
</span><span class="lnt" id="hl-3-69"><a class="lnlinks" href="#hl-3-69"> 69</a>
</span><span class="lnt" id="hl-3-70"><a class="lnlinks" href="#hl-3-70"> 70</a>
</span><span class="lnt" id="hl-3-71"><a class="lnlinks" href="#hl-3-71"> 71</a>
</span><span class="lnt" id="hl-3-72"><a class="lnlinks" href="#hl-3-72"> 72</a>
</span><span class="lnt" id="hl-3-73"><a class="lnlinks" href="#hl-3-73"> 73</a>
</span><span class="lnt" id="hl-3-74"><a class="lnlinks" href="#hl-3-74"> 74</a>
</span><span class="lnt" id="hl-3-75"><a class="lnlinks" href="#hl-3-75"> 75</a>
</span><span class="lnt" id="hl-3-76"><a class="lnlinks" href="#hl-3-76"> 76</a>
</span><span class="lnt" id="hl-3-77"><a class="lnlinks" href="#hl-3-77"> 77</a>
</span><span class="lnt" id="hl-3-78"><a class="lnlinks" href="#hl-3-78"> 78</a>
</span><span class="lnt" id="hl-3-79"><a class="lnlinks" href="#hl-3-79"> 79</a>
</span><span class="lnt" id="hl-3-80"><a class="lnlinks" href="#hl-3-80"> 80</a>
</span><span class="lnt" id="hl-3-81"><a class="lnlinks" href="#hl-3-81"> 81</a>
</span><span class="lnt" id="hl-3-82"><a class="lnlinks" href="#hl-3-82"> 82</a>
</span><span class="lnt" id="hl-3-83"><a class="lnlinks" href="#hl-3-83"> 83</a>
</span><span class="lnt" id="hl-3-84"><a class="lnlinks" href="#hl-3-84"> 84</a>
</span><span class="lnt" id="hl-3-85"><a class="lnlinks" href="#hl-3-85"> 85</a>
</span><span class="lnt" id="hl-3-86"><a class="lnlinks" href="#hl-3-86"> 86</a>
</span><span class="lnt" id="hl-3-87"><a class="lnlinks" href="#hl-3-87"> 87</a>
</span><span class="lnt" id="hl-3-88"><a class="lnlinks" href="#hl-3-88"> 88</a>
</span><span class="lnt" id="hl-3-89"><a class="lnlinks" href="#hl-3-89"> 89</a>
</span><span class="lnt" id="hl-3-90"><a class="lnlinks" href="#hl-3-90"> 90</a>
</span><span class="lnt" id="hl-3-91"><a class="lnlinks" href="#hl-3-91"> 91</a>
</span><span class="lnt" id="hl-3-92"><a class="lnlinks" href="#hl-3-92"> 92</a>
</span><span class="lnt" id="hl-3-93"><a class="lnlinks" href="#hl-3-93"> 93</a>
</span><span class="lnt" id="hl-3-94"><a class="lnlinks" href="#hl-3-94"> 94</a>
</span><span class="lnt" id="hl-3-95"><a class="lnlinks" href="#hl-3-95"> 95</a>
</span><span class="lnt" id="hl-3-96"><a class="lnlinks" href="#hl-3-96"> 96</a>
</span><span class="lnt" id="hl-3-97"><a class="lnlinks" href="#hl-3-97"> 97</a>
</span><span class="lnt" id="hl-3-98"><a class="lnlinks" href="#hl-3-98"> 98</a>
</span><span class="lnt" id="hl-3-99"><a class="lnlinks" href="#hl-3-99"> 99</a>
</span><span class="lnt" id="hl-3-100"><a class="lnlinks" href="#hl-3-100">100</a>
</span><span class="lnt" id="hl-3-101"><a class="lnlinks" href="#hl-3-101">101</a>
</span><span class="lnt" id="hl-3-102"><a class="lnlinks" href="#hl-3-102">102</a>
</span><span class="lnt" id="hl-3-103"><a class="lnlinks" href="#hl-3-103">103</a>
</span><span class="lnt" id="hl-3-104"><a class="lnlinks" href="#hl-3-104">104</a>
</span><span class="lnt" id="hl-3-105"><a class="lnlinks" href="#hl-3-105">105</a>
</span><span class="lnt" id="hl-3-106"><a class="lnlinks" href="#hl-3-106">106</a>
</span><span class="lnt" id="hl-3-107"><a class="lnlinks" href="#hl-3-107">107</a>
</span><span class="lnt" id="hl-3-108"><a class="lnlinks" href="#hl-3-108">108</a>
</span><span class="lnt" id="hl-3-109"><a class="lnlinks" href="#hl-3-109">109</a>
</span><span class="lnt" id="hl-3-110"><a class="lnlinks" href="#hl-3-110">110</a>
</span><span class="lnt" id="hl-3-111"><a class="lnlinks" href="#hl-3-111">111</a>
</span><span class="lnt" id="hl-3-112"><a class="lnlinks" href="#hl-3-112">112</a>
</span><span class="lnt" id="hl-3-113"><a class="lnlinks" href="#hl-3-113">113</a>
</span><span class="lnt" id="hl-3-114"><a class="lnlinks" href="#hl-3-114">114</a>
</span><span class="lnt" id="hl-3-115"><a class="lnlinks" href="#hl-3-115">115</a>
</span><span class="lnt" id="hl-3-116"><a class="lnlinks" href="#hl-3-116">116</a>
</span><span class="lnt" id="hl-3-117"><a class="lnlinks" href="#hl-3-117">117</a>
</span><span class="lnt" id="hl-3-118"><a class="lnlinks" href="#hl-3-118">118</a>
</span><span class="lnt" id="hl-3-119"><a class="lnlinks" href="#hl-3-119">119</a>
</span><span class="lnt" id="hl-3-120"><a class="lnlinks" href="#hl-3-120">120</a>
</span><span class="lnt" id="hl-3-121"><a class="lnlinks" href="#hl-3-121">121</a>
</span><span class="lnt" id="hl-3-122"><a class="lnlinks" href="#hl-3-122">122</a>
</span><span class="lnt" id="hl-3-123"><a class="lnlinks" href="#hl-3-123">123</a>
</span><span class="lnt" id="hl-3-124"><a class="lnlinks" href="#hl-3-124">124</a>
</span><span class="lnt" id="hl-3-125"><a class="lnlinks" href="#hl-3-125">125</a>
</span><span class="lnt" id="hl-3-126"><a class="lnlinks" href="#hl-3-126">126</a>
</span><span class="lnt" id="hl-3-127"><a class="lnlinks" href="#hl-3-127">127</a>
</span><span class="lnt" id="hl-3-128"><a class="lnlinks" href="#hl-3-128">128</a>
</span><span class="lnt" id="hl-3-129"><a class="lnlinks" href="#hl-3-129">129</a>
</span><span class="lnt" id="hl-3-130"><a class="lnlinks" href="#hl-3-130">130</a>
</span><span class="lnt" id="hl-3-131"><a class="lnlinks" href="#hl-3-131">131</a>
</span><span class="lnt" id="hl-3-132"><a class="lnlinks" href="#hl-3-132">132</a>
</span><span class="lnt" id="hl-3-133"><a class="lnlinks" href="#hl-3-133">133</a>
</span><span class="lnt" id="hl-3-134"><a class="lnlinks" href="#hl-3-134">134</a>
</span><span class="lnt" id="hl-3-135"><a class="lnlinks" href="#hl-3-135">135</a>
</span><span class="lnt" id="hl-3-136"><a class="lnlinks" href="#hl-3-136">136</a>
</span><span class="lnt" id="hl-3-137"><a class="lnlinks" href="#hl-3-137">137</a>
</span><span class="lnt" id="hl-3-138"><a class="lnlinks" href="#hl-3-138">138</a>
</span><span class="lnt" id="hl-3-139"><a class="lnlinks" href="#hl-3-139">139</a>
</span><span class="lnt" id="hl-3-140"><a class="lnlinks" href="#hl-3-140">140</a>
</span><span class="lnt" id="hl-3-141"><a class="lnlinks" href="#hl-3-141">141</a>
</span><span class="lnt" id="hl-3-142"><a class="lnlinks" href="#hl-3-142">142</a>
</span><span class="lnt" id="hl-3-143"><a class="lnlinks" href="#hl-3-143">143</a>
</span><span class="lnt" id="hl-3-144"><a class="lnlinks" href="#hl-3-144">144</a>
</span><span class="lnt" id="hl-3-145"><a class="lnlinks" href="#hl-3-145">145</a>
</span><span class="lnt" id="hl-3-146"><a class="lnlinks" href="#hl-3-146">146</a>
</span><span class="lnt" id="hl-3-147"><a class="lnlinks" href="#hl-3-147">147</a>
</span><span class="lnt" id="hl-3-148"><a class="lnlinks" href="#hl-3-148">148</a>
</span><span class="lnt" id="hl-3-149"><a class="lnlinks" href="#hl-3-149">149</a>
</span><span class="lnt" id="hl-3-150"><a class="lnlinks" href="#hl-3-150">150</a>
</span><span class="lnt" id="hl-3-151"><a class="lnlinks" href="#hl-3-151">151</a>
</span><span class="lnt" id="hl-3-152"><a class="lnlinks" href="#hl-3-152">152</a>
</span><span class="lnt" id="hl-3-153"><a class="lnlinks" href="#hl-3-153">153</a>
</span><span class="lnt" id="hl-3-154"><a class="lnlinks" href="#hl-3-154">154</a>
</span><span class="lnt" id="hl-3-155"><a class="lnlinks" href="#hl-3-155">155</a>
</span><span class="lnt" id="hl-3-156"><a class="lnlinks" href="#hl-3-156">156</a>
</span><span class="lnt" id="hl-3-157"><a class="lnlinks" href="#hl-3-157">157</a>
</span><span class="lnt" id="hl-3-158"><a class="lnlinks" href="#hl-3-158">158</a>
</span><span class="lnt" id="hl-3-159"><a class="lnlinks" href="#hl-3-159">159</a>
</span><span class="lnt" id="hl-3-160"><a class="lnlinks" href="#hl-3-160">160</a>
</span><span class="lnt" id="hl-3-161"><a class="lnlinks" href="#hl-3-161">161</a>
</span><span class="lnt" id="hl-3-162"><a class="lnlinks" href="#hl-3-162">162</a>
</span><span class="lnt" id="hl-3-163"><a class="lnlinks" href="#hl-3-163">163</a>
</span><span class="lnt" id="hl-3-164"><a class="lnlinks" href="#hl-3-164">164</a>
</span><span class="lnt" id="hl-3-165"><a class="lnlinks" href="#hl-3-165">165</a>
</span><span class="lnt" id="hl-3-166"><a class="lnlinks" href="#hl-3-166">166</a>
</span><span class="lnt" id="hl-3-167"><a class="lnlinks" href="#hl-3-167">167</a>
</span><span class="lnt" id="hl-3-168"><a class="lnlinks" href="#hl-3-168">168</a>
</span><span class="lnt" id="hl-3-169"><a class="lnlinks" href="#hl-3-169">169</a>
</span><span class="lnt" id="hl-3-170"><a class="lnlinks" href="#hl-3-170">170</a>
</span><span class="lnt" id="hl-3-171"><a class="lnlinks" href="#hl-3-171">171</a>
</span><span class="lnt" id="hl-3-172"><a class="lnlinks" href="#hl-3-172">172</a>
</span><span class="lnt" id="hl-3-173"><a class="lnlinks" href="#hl-3-173">173</a>
</span><span class="lnt" id="hl-3-174"><a class="lnlinks" href="#hl-3-174">174</a>
</span><span class="lnt" id="hl-3-175"><a class="lnlinks" href="#hl-3-175">175</a>
</span><span class="lnt" id="hl-3-176"><a class="lnlinks" href="#hl-3-176">176</a>
</span><span class="lnt" id="hl-3-177"><a class="lnlinks" href="#hl-3-177">177</a>
</span><span class="lnt" id="hl-3-178"><a class="lnlinks" href="#hl-3-178">178</a>
</span><span class="lnt" id="hl-3-179"><a class="lnlinks" href="#hl-3-179">179</a>
</span><span class="lnt" id="hl-3-180"><a class="lnlinks" href="#hl-3-180">180</a>
</span><span class="lnt" id="hl-3-181"><a class="lnlinks" href="#hl-3-181">181</a>
</span><span class="lnt" id="hl-3-182"><a class="lnlinks" href="#hl-3-182">182</a>
</span><span class="lnt" id="hl-3-183"><a class="lnlinks" href="#hl-3-183">183</a>
</span><span class="lnt" id="hl-3-184"><a class="lnlinks" href="#hl-3-184">184</a>
</span><span class="lnt" id="hl-3-185"><a class="lnlinks" href="#hl-3-185">185</a>
</span><span class="lnt" id="hl-3-186"><a class="lnlinks" href="#hl-3-186">186</a>
</span><span class="lnt" id="hl-3-187"><a class="lnlinks" href="#hl-3-187">187</a>
</span><span class="lnt" id="hl-3-188"><a class="lnlinks" href="#hl-3-188">188</a>
</span><span class="lnt" id="hl-3-189"><a class="lnlinks" href="#hl-3-189">189</a>
</span><span class="lnt" id="hl-3-190"><a class="lnlinks" href="#hl-3-190">190</a>
</span><span class="lnt" id="hl-3-191"><a class="lnlinks" href="#hl-3-191">191</a>
</span><span class="lnt" id="hl-3-192"><a class="lnlinks" href="#hl-3-192">192</a>
</span><span class="lnt" id="hl-3-193"><a class="lnlinks" href="#hl-3-193">193</a>
</span><span class="lnt" id="hl-3-194"><a class="lnlinks" href="#hl-3-194">194</a>
</span><span class="lnt" id="hl-3-195"><a class="lnlinks" href="#hl-3-195">195</a>
</span><span class="lnt" id="hl-3-196"><a class="lnlinks" href="#hl-3-196">196</a>
</span><span class="lnt" id="hl-3-197"><a class="lnlinks" href="#hl-3-197">197</a>
</span><span class="lnt" id="hl-3-198"><a class="lnlinks" href="#hl-3-198">198</a>
</span><span class="lnt" id="hl-3-199"><a class="lnlinks" href="#hl-3-199">199</a>
</span><span class="lnt" id="hl-3-200"><a class="lnlinks" href="#hl-3-200">200</a>
</span><span class="lnt" id="hl-3-201"><a class="lnlinks" href="#hl-3-201">201</a>
</span><span class="lnt" id="hl-3-202"><a class="lnlinks" href="#hl-3-202">202</a>
</span><span class="lnt" id="hl-3-203"><a class="lnlinks" href="#hl-3-203">203</a>
</span><span class="lnt" id="hl-3-204"><a class="lnlinks" href="#hl-3-204">204</a>
</span><span class="lnt" id="hl-3-205"><a class="lnlinks" href="#hl-3-205">205</a>
</span><span class="lnt" id="hl-3-206"><a class="lnlinks" href="#hl-3-206">206</a>
</span><span class="lnt" id="hl-3-207"><a class="lnlinks" href="#hl-3-207">207</a>
</span><span class="lnt" id="hl-3-208"><a class="lnlinks" href="#hl-3-208">208</a>
</span><span class="lnt" id="hl-3-209"><a class="lnlinks" href="#hl-3-209">209</a>
</span><span class="lnt" id="hl-3-210"><a class="lnlinks" href="#hl-3-210">210</a>
</span><span class="lnt" id="hl-3-211"><a class="lnlinks" href="#hl-3-211">211</a>
</span><span class="lnt" id="hl-3-212"><a class="lnlinks" href="#hl-3-212">212</a>
</span><span class="lnt" id="hl-3-213"><a class="lnlinks" href="#hl-3-213">213</a>
</span><span class="lnt" id="hl-3-214"><a class="lnlinks" href="#hl-3-214">214</a>
</span><span class="lnt" id="hl-3-215"><a class="lnlinks" href="#hl-3-215">215</a>
</span><span class="lnt" id="hl-3-216"><a class="lnlinks" href="#hl-3-216">216</a>
</span><span class="lnt" id="hl-3-217"><a class="lnlinks" href="#hl-3-217">217</a>
</span><span class="lnt" id="hl-3-218"><a class="lnlinks" href="#hl-3-218">218</a>
</span><span class="lnt" id="hl-3-219"><a class="lnlinks" href="#hl-3-219">219</a>
</span><span class="lnt" id="hl-3-220"><a class="lnlinks" href="#hl-3-220">220</a>
</span><span class="lnt" id="hl-3-221"><a class="lnlinks" href="#hl-3-221">221</a>
</span><span class="lnt" id="hl-3-222"><a class="lnlinks" href="#hl-3-222">222</a>
</span><span class="lnt" id="hl-3-223"><a class="lnlinks" href="#hl-3-223">223</a>
</span><span class="lnt" id="hl-3-224"><a class="lnlinks" href="#hl-3-224">224</a>
</span><span class="lnt" id="hl-3-225"><a class="lnlinks" href="#hl-3-225">225</a>
</span><span class="lnt" id="hl-3-226"><a class="lnlinks" href="#hl-3-226">226</a>
</span><span class="lnt" id="hl-3-227"><a class="lnlinks" href="#hl-3-227">227</a>
</span><span class="lnt" id="hl-3-228"><a class="lnlinks" href="#hl-3-228">228</a>
</span><span class="lnt" id="hl-3-229"><a class="lnlinks" href="#hl-3-229">229</a>
</span><span class="lnt" id="hl-3-230"><a class="lnlinks" href="#hl-3-230">230</a>
</span><span class="lnt" id="hl-3-231"><a class="lnlinks" href="#hl-3-231">231</a>
</span><span class="lnt" id="hl-3-232"><a class="lnlinks" href="#hl-3-232">232</a>
</span><span class="lnt" id="hl-3-233"><a class="lnlinks" href="#hl-3-233">233</a>
</span><span class="lnt" id="hl-3-234"><a class="lnlinks" href="#hl-3-234">234</a>
</span><span class="lnt" id="hl-3-235"><a class="lnlinks" href="#hl-3-235">235</a>
</span><span class="lnt" id="hl-3-236"><a class="lnlinks" href="#hl-3-236">236</a>
</span><span class="lnt" id="hl-3-237"><a class="lnlinks" href="#hl-3-237">237</a>
</span><span class="lnt" id="hl-3-238"><a class="lnlinks" href="#hl-3-238">238</a>
</span><span class="lnt" id="hl-3-239"><a class="lnlinks" href="#hl-3-239">239</a>
</span><span class="lnt" id="hl-3-240"><a class="lnlinks" href="#hl-3-240">240</a>
</span><span class="lnt" id="hl-3-241"><a class="lnlinks" href="#hl-3-241">241</a>
</span><span class="lnt" id="hl-3-242"><a class="lnlinks" href="#hl-3-242">242</a>
</span><span class="lnt" id="hl-3-243"><a class="lnlinks" href="#hl-3-243">243</a>
</span><span class="lnt" id="hl-3-244"><a class="lnlinks" href="#hl-3-244">244</a>
</span><span class="lnt" id="hl-3-245"><a class="lnlinks" href="#hl-3-245">245</a>
</span><span class="lnt" id="hl-3-246"><a class="lnlinks" href="#hl-3-246">246</a>
</span><span class="lnt" id="hl-3-247"><a class="lnlinks" href="#hl-3-247">247</a>
</span><span class="lnt" id="hl-3-248"><a class="lnlinks" href="#hl-3-248">248</a>
</span><span class="lnt" id="hl-3-249"><a class="lnlinks" href="#hl-3-249">249</a>
</span><span class="lnt" id="hl-3-250"><a class="lnlinks" href="#hl-3-250">250</a>
</span><span class="lnt" id="hl-3-251"><a class="lnlinks" href="#hl-3-251">251</a>
</span><span class="lnt" id="hl-3-252"><a class="lnlinks" href="#hl-3-252">252</a>
</span><span class="lnt" id="hl-3-253"><a class="lnlinks" href="#hl-3-253">253</a>
</span><span class="lnt" id="hl-3-254"><a class="lnlinks" href="#hl-3-254">254</a>
</span><span class="lnt" id="hl-3-255"><a class="lnlinks" href="#hl-3-255">255</a>
</span><span class="lnt" id="hl-3-256"><a class="lnlinks" href="#hl-3-256">256</a>
</span><span class="lnt" id="hl-3-257"><a class="lnlinks" href="#hl-3-257">257</a>
</span><span class="lnt" id="hl-3-258"><a class="lnlinks" href="#hl-3-258">258</a>
</span><span class="lnt" id="hl-3-259"><a class="lnlinks" href="#hl-3-259">259</a>
</span><span class="lnt" id="hl-3-260"><a class="lnlinks" href="#hl-3-260">260</a>
</span><span class="lnt" id="hl-3-261"><a class="lnlinks" href="#hl-3-261">261</a>
</span><span class="lnt" id="hl-3-262"><a class="lnlinks" href="#hl-3-262">262</a>
</span><span class="lnt" id="hl-3-263"><a class="lnlinks" href="#hl-3-263">263</a>
</span><span class="lnt" id="hl-3-264"><a class="lnlinks" href="#hl-3-264">264</a>
</span><span class="lnt" id="hl-3-265"><a class="lnlinks" href="#hl-3-265">265</a>
</span><span class="lnt" id="hl-3-266"><a class="lnlinks" href="#hl-3-266">266</a>
</span><span class="lnt" id="hl-3-267"><a class="lnlinks" href="#hl-3-267">267</a>
</span><span class="lnt" id="hl-3-268"><a class="lnlinks" href="#hl-3-268">268</a>
</span><span class="lnt" id="hl-3-269"><a class="lnlinks" href="#hl-3-269">269</a>
</span><span class="lnt" id="hl-3-270"><a class="lnlinks" href="#hl-3-270">270</a>
</span><span class="lnt" id="hl-3-271"><a class="lnlinks" href="#hl-3-271">271</a>
</span><span class="lnt" id="hl-3-272"><a class="lnlinks" href="#hl-3-272">272</a>
</span><span class="lnt" id="hl-3-273"><a class="lnlinks" href="#hl-3-273">273</a>
</span><span class="lnt" id="hl-3-274"><a class="lnlinks" href="#hl-3-274">274</a>
</span><span class="lnt" id="hl-3-275"><a class="lnlinks" href="#hl-3-275">275</a>
</span><span class="lnt" id="hl-3-276"><a class="lnlinks" href="#hl-3-276">276</a>
</span><span class="lnt" id="hl-3-277"><a class="lnlinks" href="#hl-3-277">277</a>
</span><span class="lnt" id="hl-3-278"><a class="lnlinks" href="#hl-3-278">278</a>
</span><span class="lnt" id="hl-3-279"><a class="lnlinks" href="#hl-3-279">279</a>
</span><span class="lnt" id="hl-3-280"><a class="lnlinks" href="#hl-3-280">280</a>
</span><span class="lnt" id="hl-3-281"><a class="lnlinks" href="#hl-3-281">281</a>
</span><span class="lnt" id="hl-3-282"><a class="lnlinks" href="#hl-3-282">282</a>
</span><span class="lnt" id="hl-3-283"><a class="lnlinks" href="#hl-3-283">283</a>
</span><span class="lnt" id="hl-3-284"><a class="lnlinks" href="#hl-3-284">284</a>
</span><span class="lnt" id="hl-3-285"><a class="lnlinks" href="#hl-3-285">285</a>
</span><span class="lnt" id="hl-3-286"><a class="lnlinks" href="#hl-3-286">286</a>
</span><span class="lnt" id="hl-3-287"><a class="lnlinks" href="#hl-3-287">287</a>
</span><span class="lnt" id="hl-3-288"><a class="lnlinks" href="#hl-3-288">288</a>
</span><span class="lnt" id="hl-3-289"><a class="lnlinks" href="#hl-3-289">289</a>
</span><span class="lnt" id="hl-3-290"><a class="lnlinks" href="#hl-3-290">290</a>
</span><span class="lnt" id="hl-3-291"><a class="lnlinks" href="#hl-3-291">291</a>
</span><span class="lnt" id="hl-3-292"><a class="lnlinks" href="#hl-3-292">292</a>
</span><span class="lnt" id="hl-3-293"><a class="lnlinks" href="#hl-3-293">293</a>
</span><span class="lnt" id="hl-3-294"><a class="lnlinks" href="#hl-3-294">294</a>
</span><span class="lnt" id="hl-3-295"><a class="lnlinks" href="#hl-3-295">295</a>
</span><span class="lnt" id="hl-3-296"><a class="lnlinks" href="#hl-3-296">296</a>
</span><span class="lnt" id="hl-3-297"><a class="lnlinks" href="#hl-3-297">297</a>
</span><span class="lnt" id="hl-3-298"><a class="lnlinks" href="#hl-3-298">298</a>
</span><span class="lnt" id="hl-3-299"><a class="lnlinks" href="#hl-3-299">299</a>
</span><span class="lnt" id="hl-3-300"><a class="lnlinks" href="#hl-3-300">300</a>
</span><span class="lnt" id="hl-3-301"><a class="lnlinks" href="#hl-3-301">301</a>
</span><span class="lnt" id="hl-3-302"><a class="lnlinks" href="#hl-3-302">302</a>
</span><span class="lnt" id="hl-3-303"><a class="lnlinks" href="#hl-3-303">303</a>
</span><span class="lnt" id="hl-3-304"><a class="lnlinks" href="#hl-3-304">304</a>
</span><span class="lnt" id="hl-3-305"><a class="lnlinks" href="#hl-3-305">305</a>
</span><span class="lnt" id="hl-3-306"><a class="lnlinks" href="#hl-3-306">306</a>
</span><span class="lnt" id="hl-3-307"><a class="lnlinks" href="#hl-3-307">307</a>
</span><span class="lnt" id="hl-3-308"><a class="lnlinks" href="#hl-3-308">308</a>
</span><span class="lnt" id="hl-3-309"><a class="lnlinks" href="#hl-3-309">309</a>
</span><span class="lnt" id="hl-3-310"><a class="lnlinks" href="#hl-3-310">310</a>
</span><span class="lnt" id="hl-3-311"><a class="lnlinks" href="#hl-3-311">311</a>
</span><span class="lnt" id="hl-3-312"><a class="lnlinks" href="#hl-3-312">312</a>
</span><span class="lnt" id="hl-3-313"><a class="lnlinks" href="#hl-3-313">313</a>
</span><span class="lnt" id="hl-3-314"><a class="lnlinks" href="#hl-3-314">314</a>
</span><span class="lnt" id="hl-3-315"><a class="lnlinks" href="#hl-3-315">315</a>
</span><span class="lnt" id="hl-3-316"><a class="lnlinks" href="#hl-3-316">316</a>
</span><span class="lnt" id="hl-3-317"><a class="lnlinks" href="#hl-3-317">317</a>
</span><span class="lnt" id="hl-3-318"><a class="lnlinks" href="#hl-3-318">318</a>
</span><span class="lnt" id="hl-3-319"><a class="lnlinks" href="#hl-3-319">319</a>
</span><span class="lnt" id="hl-3-320"><a class="lnlinks" href="#hl-3-320">320</a>
</span><span class="lnt" id="hl-3-321"><a class="lnlinks" href="#hl-3-321">321</a>
</span><span class="lnt" id="hl-3-322"><a class="lnlinks" href="#hl-3-322">322</a>
</span><span class="lnt" id="hl-3-323"><a class="lnlinks" href="#hl-3-323">323</a>
</span><span class="lnt" id="hl-3-324"><a class="lnlinks" href="#hl-3-324">324</a>
</span><span class="lnt" id="hl-3-325"><a class="lnlinks" href="#hl-3-325">325</a>
</span><span class="lnt" id="hl-3-326"><a class="lnlinks" href="#hl-3-326">326</a>
</span><span class="lnt" id="hl-3-327"><a class="lnlinks" href="#hl-3-327">327</a>
</span><span class="lnt" id="hl-3-328"><a class="lnlinks" href="#hl-3-328">328</a>
</span><span class="lnt" id="hl-3-329"><a class="lnlinks" href="#hl-3-329">329</a>
</span><span class="lnt" id="hl-3-330"><a class="lnlinks" href="#hl-3-330">330</a>
</span><span class="lnt" id="hl-3-331"><a class="lnlinks" href="#hl-3-331">331</a>
</span><span class="lnt" id="hl-3-332"><a class="lnlinks" href="#hl-3-332">332</a>
</span><span class="lnt" id="hl-3-333"><a class="lnlinks" href="#hl-3-333">333</a>
</span><span class="lnt" id="hl-3-334"><a class="lnlinks" href="#hl-3-334">334</a>
</span><span class="lnt" id="hl-3-335"><a class="lnlinks" href="#hl-3-335">335</a>
</span><span class="lnt" id="hl-3-336"><a class="lnlinks" href="#hl-3-336">336</a>
</span><span class="lnt" id="hl-3-337"><a class="lnlinks" href="#hl-3-337">337</a>
</span><span class="lnt" id="hl-3-338"><a class="lnlinks" href="#hl-3-338">338</a>
</span><span class="lnt" id="hl-3-339"><a class="lnlinks" href="#hl-3-339">339</a>
</span><span class="lnt" id="hl-3-340"><a class="lnlinks" href="#hl-3-340">340</a>
</span><span class="lnt" id="hl-3-341"><a class="lnlinks" href="#hl-3-341">341</a>
</span><span class="lnt" id="hl-3-342"><a class="lnlinks" href="#hl-3-342">342</a>
</span><span class="lnt" id="hl-3-343"><a class="lnlinks" href="#hl-3-343">343</a>
</span><span class="lnt" id="hl-3-344"><a class="lnlinks" href="#hl-3-344">344</a>
</span><span class="lnt" id="hl-3-345"><a class="lnlinks" href="#hl-3-345">345</a>
</span><span class="lnt" id="hl-3-346"><a class="lnlinks" href="#hl-3-346">346</a>
</span><span class="lnt" id="hl-3-347"><a class="lnlinks" href="#hl-3-347">347</a>
</span><span class="lnt" id="hl-3-348"><a class="lnlinks" href="#hl-3-348">348</a>
</span><span class="lnt" id="hl-3-349"><a class="lnlinks" href="#hl-3-349">349</a>
</span><span class="lnt" id="hl-3-350"><a class="lnlinks" href="#hl-3-350">350</a>
</span><span class="lnt" id="hl-3-351"><a class="lnlinks" href="#hl-3-351">351</a>
</span><span class="lnt" id="hl-3-352"><a class="lnlinks" href="#hl-3-352">352</a>
</span><span class="lnt" id="hl-3-353"><a class="lnlinks" href="#hl-3-353">353</a>
</span><span class="lnt" id="hl-3-354"><a class="lnlinks" href="#hl-3-354">354</a>
</span><span class="lnt" id="hl-3-355"><a class="lnlinks" href="#hl-3-355">355</a>
</span><span class="lnt" id="hl-3-356"><a class="lnlinks" href="#hl-3-356">356</a>
</span><span class="lnt" id="hl-3-357"><a class="lnlinks" href="#hl-3-357">357</a>
</span><span class="lnt" id="hl-3-358"><a class="lnlinks" href="#hl-3-358">358</a>
</span><span class="lnt" id="hl-3-359"><a class="lnlinks" href="#hl-3-359">359</a>
</span><span class="lnt" id="hl-3-360"><a class="lnlinks" href="#hl-3-360">360</a>
</span><span class="lnt" id="hl-3-361"><a class="lnlinks" href="#hl-3-361">361</a>
</span><span class="lnt" id="hl-3-362"><a class="lnlinks" href="#hl-3-362">362</a>
</span><span class="lnt" id="hl-3-363"><a class="lnlinks" href="#hl-3-363">363</a>
</span><span class="lnt" id="hl-3-364"><a class="lnlinks" href="#hl-3-364">364</a>
</span><span class="lnt" id="hl-3-365"><a class="lnlinks" href="#hl-3-365">365</a>
</span><span class="lnt" id="hl-3-366"><a class="lnlinks" href="#hl-3-366">366</a>
</span><span class="lnt" id="hl-3-367"><a class="lnlinks" href="#hl-3-367">367</a>
</span><span class="lnt" id="hl-3-368"><a class="lnlinks" href="#hl-3-368">368</a>
</span><span class="lnt" id="hl-3-369"><a class="lnlinks" href="#hl-3-369">369</a>
</span><span class="lnt" id="hl-3-370"><a class="lnlinks" href="#hl-3-370">370</a>
</span><span class="lnt" id="hl-3-371"><a class="lnlinks" href="#hl-3-371">371</a>
</span><span class="lnt" id="hl-3-372"><a class="lnlinks" href="#hl-3-372">372</a>
</span><span class="lnt" id="hl-3-373"><a class="lnlinks" href="#hl-3-373">373</a>
</span><span class="lnt" id="hl-3-374"><a class="lnlinks" href="#hl-3-374">374</a>
</span><span class="lnt" id="hl-3-375"><a class="lnlinks" href="#hl-3-375">375</a>
</span><span class="lnt" id="hl-3-376"><a class="lnlinks" href="#hl-3-376">376</a>
</span><span class="lnt" id="hl-3-377"><a class="lnlinks" href="#hl-3-377">377</a>
</span><span class="lnt" id="hl-3-378"><a class="lnlinks" href="#hl-3-378">378</a>
</span><span class="lnt" id="hl-3-379"><a class="lnlinks" href="#hl-3-379">379</a>
</span><span class="lnt" id="hl-3-380"><a class="lnlinks" href="#hl-3-380">380</a>
</span><span class="lnt" id="hl-3-381"><a class="lnlinks" href="#hl-3-381">381</a>
</span><span class="lnt" id="hl-3-382"><a class="lnlinks" href="#hl-3-382">382</a>
</span><span class="lnt" id="hl-3-383"><a class="lnlinks" href="#hl-3-383">383</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">asyncio</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">aiohttp</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">json</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">html</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">re</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">BilibiliFetcher</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># æ³¨æ„ï¼šè¯·å°†ä¸‹é¢çš„Cookieæ›¿æ¢ä¸ºæ‚¨è‡ªå·±çš„çœŸå®Cookie</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;Cookie&#39;</span><span class="p">:</span> <span class="s1">&#39;SESSDATA=ä½ çš„SESSDATAå†…å®¹&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;Origin&#39;</span><span class="p">:</span> <span class="s1">&#39;https://www.bilibili.com&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;Referer&#39;</span><span class="p">:</span> <span class="s1">&#39;https://www.bilibili.com/&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;User-Agent&#39;</span><span class="p">:</span> <span class="s1">&#39;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36&#39;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">session</span> <span class="o">=</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">uid</span> <span class="o">=</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">encode_html</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;HTMLç¼–ç å‡½æ•°ï¼Œä¸JavaScriptç‰ˆæœ¬ä¿æŒä¸€è‡´&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="s1">&#39;&#39;</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1"># åŸºæœ¬HTMLå®ä½“ç¼–ç </span>
</span></span><span class="line"><span class="cl">        <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&amp;&#39;</span><span class="p">,</span> <span class="s1">&#39;&amp;amp;&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&lt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&amp;lt;&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&amp;gt;&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&#34;&#39;</span><span class="p">,</span> <span class="s1">&#39;&amp;quot;&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1"># å¤„ç†ç©ºæ ¼ï¼šè¿ç»­ç©ºæ ¼ã€è¡Œé¦–è¡Œå°¾ç©ºæ ¼è½¬æ¢ä¸º&amp;nbsp;</span>
</span></span><span class="line"><span class="cl">        <span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39; (?= )|(?&lt;= ) |^ | $&#39;</span><span class="p">,</span> <span class="s1">&#39;&amp;nbsp;&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1"># æ¢è¡Œç¬¦è½¬æ¢ä¸º&lt;br /&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\r\n|\r|\n&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;br /&gt;&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">text</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">async</span> <span class="k">def</span> <span class="nf">create_session</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;åˆ›å»ºaiohttpä¼šè¯&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">session</span> <span class="o">=</span> <span class="n">aiohttp</span><span class="o">.</span><span class="n">ClientSession</span><span class="p">(</span><span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">async</span> <span class="k">def</span> <span class="nf">close_session</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;å…³é—­aiohttpä¼šè¯&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_user_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;è·å–è‡ªå·±çš„UID&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">async</span> <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://api.bilibili.com/x/web-interface/nav&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">response</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">ujson</span> <span class="o">=</span> <span class="k">await</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">ujson</span><span class="p">[</span><span class="s1">&#39;code&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥: </span><span class="si">{</span><span class="n">ujson</span><span class="p">[</span><span class="s2">&#34;message&#34;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥: </span><span class="si">{</span><span class="n">ujson</span><span class="p">[</span><span class="s2">&#34;message&#34;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">uid</span> <span class="o">=</span> <span class="n">ujson</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;mid&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">uid</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;è·å–ç”¨æˆ·ä¿¡æ¯æ—¶å‡ºé”™: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">raise</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_followers_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">page</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;è·å–æŒ‡å®šé¡µçš„ç²‰ä¸ä¿¡æ¯&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;https://api.bilibili.com/x/relation/fans?vmid=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">uid</span><span class="si">}</span><span class="s1">&amp;ps=50&amp;pn=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s1">&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="k">async</span> <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">response</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">data</span> <span class="o">=</span> <span class="k">await</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;code&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;list&#39;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;list&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">            <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;è·å–ç¬¬</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s1">é¡µç²‰ä¸ä¿¡æ¯å¤±è´¥: </span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&#34;message&#34;</span><span class="p">,</span> <span class="s2">&#34;æœªçŸ¥é”™è¯¯&#34;</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">                
</span></span><span class="line"><span class="cl">        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;è¯·æ±‚ç¬¬</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s1">é¡µæ—¶å‡ºé”™: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_all_followers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">max_pages</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;è·å–æ‰€æœ‰ç²‰ä¸ä¿¡æ¯&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">followers</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1"># è·å–å‰20é¡µç²‰ä¸çš„ä¿¡æ¯ï¼Œæ¯é¡µ50ä¸ª</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_pages</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="n">page_followers</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_followers_page</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="ow">not</span> <span class="n">page_followers</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">break</span>
</span></span><span class="line"><span class="cl">            <span class="n">followers</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">page_followers</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">followers</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_followers_detail_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">followers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;è·å–æ‰€æœ‰ç²‰ä¸çš„è¯¦ç»†ä¿¡æ¯&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="ow">not</span> <span class="n">followers</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">        <span class="n">uids</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="s1">&#39;mid&#39;</span><span class="p">])</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">followers</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="n">uid_str</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">uids</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;https://api.vc.bilibili.com/x/im/user_infos?uids=</span><span class="si">{</span><span class="n">uid_str</span><span class="si">}</span><span class="s1">&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="k">async</span> <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">response</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">cjson</span> <span class="o">=</span> <span class="k">await</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">cjson</span><span class="p">[</span><span class="s1">&#39;code&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">cjson</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="c1"># å°†è¯¦ç»†ä¿¡æ¯åˆå¹¶åˆ°ç²‰ä¸å¯¹è±¡ä¸­</span>
</span></span><span class="line"><span class="cl">                <span class="k">for</span> <span class="n">info</span> <span class="ow">in</span> <span class="n">cjson</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">follower</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">followers</span> <span class="k">if</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;mid&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">info</span><span class="p">[</span><span class="s1">&#39;mid&#39;</span><span class="p">]),</span> <span class="kc">None</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                    <span class="k">if</span> <span class="n">follower</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                        <span class="n">follower</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                        
</span></span><span class="line"><span class="cl">        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;è·å–ç²‰ä¸è¯¦ç»†ä¿¡æ¯æ—¶å‡ºé”™: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_followers_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">followers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;è·å–æ‰€æœ‰ç²‰ä¸çš„ç²‰ä¸æ•°ç»Ÿè®¡&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="ow">not</span> <span class="n">followers</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">        <span class="c1"># åˆ†æ‰¹å¤„ç†ï¼Œæ¯æ‰¹æœ€å¤š20ä¸ª</span>
</span></span><span class="line"><span class="cl">        <span class="n">followers_without_stat</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span><span class="p">[</span><span class="s1">&#39;mid&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">followers</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="n">followers_without_stat</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">batch</span> <span class="o">=</span> <span class="n">followers_without_stat</span><span class="p">[:</span><span class="mi">20</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">            <span class="n">followers_without_stat</span> <span class="o">=</span> <span class="n">followers_without_stat</span><span class="p">[</span><span class="mi">20</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">mids_str</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">batch</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;https://api.bilibili.com/x/relation/stats?mids=</span><span class="si">{</span><span class="n">mids_str</span><span class="si">}</span><span class="s1">&#39;</span>
</span></span><span class="line"><span class="cl">                <span class="k">async</span> <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">response</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">sjson</span> <span class="o">=</span> <span class="k">await</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                    
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">sjson</span><span class="p">[</span><span class="s1">&#39;code&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">sjson</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                    <span class="c1"># å°†ç»Ÿè®¡ä¿¡æ¯åˆå¹¶åˆ°ç²‰ä¸å¯¹è±¡ä¸­</span>
</span></span><span class="line"><span class="cl">                    <span class="k">for</span> <span class="n">mid_str</span><span class="p">,</span> <span class="n">stat</span> <span class="ow">in</span> <span class="n">sjson</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">                        <span class="n">mid</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">mid_str</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                        <span class="n">follower</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">followers</span> <span class="k">if</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;mid&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">mid</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                        <span class="k">if</span> <span class="n">follower</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                            <span class="n">follower</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">stat</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                            
</span></span><span class="line"><span class="cl">            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;è·å–ç²‰ä¸ç»Ÿè®¡ä¿¡æ¯æ—¶å‡ºé”™: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">filter_default_avatars</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">followers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;è¿‡æ»¤æ‰ä½¿ç”¨é»˜è®¤å¤´åƒçš„ç”¨æˆ·&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">filtered</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">followers</span> <span class="k">if</span> <span class="s1">&#39;/member/noface.jpg&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;face&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)]</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;åŸå§‹ç²‰ä¸æ•°é‡: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">followers</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;è¿‡æ»¤åç²‰ä¸æ•°é‡: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">filtered</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;å·²è¿‡æ»¤æ‰ </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">followers</span><span class="p">)</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">filtered</span><span class="p">)</span><span class="si">}</span><span class="s1"> ä¸ªé»˜è®¤å¤´åƒç”¨æˆ·&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">filtered</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">generate_html</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">followers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span> <span class="n">output_file</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;followers.html&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;ç”ŸæˆHTMLæ–‡ä»¶&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">content</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;&#39;&#39;&lt;!DOCTYPE html&gt;
</span></span></span><span class="line"><span class="cl"><span class="s1">&lt;html lang=&#34;zh-CN&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="s1">&lt;head&gt;
</span></span></span><span class="line"><span class="cl"><span class="s1">  &lt;meta charset=&#34;UTF-8&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="s1">  &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="s1">  &lt;title&gt;ç²‰ä¸åˆ—è¡¨&lt;/title&gt;
</span></span></span><span class="line"><span class="cl"><span class="s1">  &lt;style&gt;
</span></span></span><span class="line"><span class="cl"><span class="s1">    * </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      font-family: Lato, &#39;PingFang SC&#39;, &#39;Microsoft YaHei&#39;, sans-serif;
</span></span></span><span class="line"><span class="cl"><span class="s1">      font-size: 20px;
</span></span></span><span class="line"><span class="cl"><span class="s1">      overflow-wrap: anywhere;
</span></span></span><span class="line"><span class="cl"><span class="s1">      text-align: justify;
</span></span></span><span class="line"><span class="cl"><span class="s1">      margin: 0;
</span></span></span><span class="line"><span class="cl"><span class="s1">      padding: 0;
</span></span></span><span class="line"><span class="cl"><span class="s1">      box-sizing: border-box;
</span></span></span><span class="line"><span class="cl"><span class="s1">    </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">    body </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      background: #f5f7fa;
</span></span></span><span class="line"><span class="cl"><span class="s1">      padding: 20px;
</span></span></span><span class="line"><span class="cl"><span class="s1">      line-height: 1.6;
</span></span></span><span class="line"><span class="cl"><span class="s1">      min-height: 100vh;
</span></span></span><span class="line"><span class="cl"><span class="s1">    </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">    .container </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      width: 100%;
</span></span></span><span class="line"><span class="cl"><span class="s1">      max-width: none;
</span></span></span><span class="line"><span class="cl"><span class="s1">    </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">    .header </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      text-align: center;
</span></span></span><span class="line"><span class="cl"><span class="s1">      margin-bottom: 30px;
</span></span></span><span class="line"><span class="cl"><span class="s1">    </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">    .header h1 </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      font-size: 32px;
</span></span></span><span class="line"><span class="cl"><span class="s1">      font-weight: 600;
</span></span></span><span class="line"><span class="cl"><span class="s1">      color: #1f2937;
</span></span></span><span class="line"><span class="cl"><span class="s1">      margin-bottom: 8px;
</span></span></span><span class="line"><span class="cl"><span class="s1">    </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">    .header p </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      font-size: 16px;
</span></span></span><span class="line"><span class="cl"><span class="s1">      color: #6b7280;
</span></span></span><span class="line"><span class="cl"><span class="s1">    </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">    .followers-content </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      background: white;
</span></span></span><span class="line"><span class="cl"><span class="s1">      border-radius: 12px;
</span></span></span><span class="line"><span class="cl"><span class="s1">      padding: 20px;
</span></span></span><span class="line"><span class="cl"><span class="s1">      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
</span></span></span><span class="line"><span class="cl"><span class="s1">      width: 100%;
</span></span></span><span class="line"><span class="cl"><span class="s1">    </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">    div.inline-block </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      display: inline-block;
</span></span></span><span class="line"><span class="cl"><span class="s1">      margin-right: 5px;
</span></span></span><span class="line"><span class="cl"><span class="s1">      margin-bottom: 10px;
</span></span></span><span class="line"><span class="cl"><span class="s1">    </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">    div.info </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      align-items: center;
</span></span></span><span class="line"><span class="cl"><span class="s1">      display: flex;
</span></span></span><span class="line"><span class="cl"><span class="s1">    </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">    div.image-wrap </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      margin-right: 5px;
</span></span></span><span class="line"><span class="cl"><span class="s1">      position: relative;
</span></span></span><span class="line"><span class="cl"><span class="s1">    </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">    img </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      vertical-align: middle;
</span></span></span><span class="line"><span class="cl"><span class="s1">    </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">    img.face </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      border-radius: 50%;
</span></span></span><span class="line"><span class="cl"><span class="s1">      height: 60px;
</span></span></span><span class="line"><span class="cl"><span class="s1">    </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">    img.icon-face-nft </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      border: 2px solid var(--background-color);
</span></span></span><span class="line"><span class="cl"><span class="s1">      box-sizing: border-box;
</span></span></span><span class="line"><span class="cl"><span class="s1">    </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">    div.image-wrap.has-frame img.face </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      height: 51px;
</span></span></span><span class="line"><span class="cl"><span class="s1">      padding: 19.5px;
</span></span></span><span class="line"><span class="cl"><span class="s1">    </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">    div.image-wrap.has-frame img.face-frame </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      height: 90px;
</span></span></span><span class="line"><span class="cl"><span class="s1">      left: calc(50% - 45px);
</span></span></span><span class="line"><span class="cl"><span class="s1">      position: absolute;
</span></span></span><span class="line"><span class="cl"><span class="s1">      top: 0;
</span></span></span><span class="line"><span class="cl"><span class="s1">    </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">    div.image-wrap img.face-icon </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      border-radius: 50%;
</span></span></span><span class="line"><span class="cl"><span class="s1">      height: 18px;
</span></span></span><span class="line"><span class="cl"><span class="s1">      left: calc(50% + 13.25px);
</span></span></span><span class="line"><span class="cl"><span class="s1">      position: absolute;
</span></span></span><span class="line"><span class="cl"><span class="s1">      top: calc(50% + 13.25px);
</span></span></span><span class="line"><span class="cl"><span class="s1">    </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">    div.image-wrap img.face-icon.second </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      left: calc(50% - 3.75px);
</span></span></span><span class="line"><span class="cl"><span class="s1">    </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">    div.image-wrap.has-frame img.face-icon </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      left: calc(50% + 9px);
</span></span></span><span class="line"><span class="cl"><span class="s1">      top: calc(50% + 9px);
</span></span></span><span class="line"><span class="cl"><span class="s1">    </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">    div.image-wrap.has-frame img.face-icon.second </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      left: calc(50% - 8px);
</span></span></span><span class="line"><span class="cl"><span class="s1">    </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">    @media (max-width: 768px) </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      body </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">        padding: 10px;
</span></span></span><span class="line"><span class="cl"><span class="s1">      </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      .header h1 </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">        font-size: 24px;
</span></span></span><span class="line"><span class="cl"><span class="s1">      </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      .followers-content </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">        padding: 15px;
</span></span></span><span class="line"><span class="cl"><span class="s1">      </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      * </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">        font-size: 18px;
</span></span></span><span class="line"><span class="cl"><span class="s1">      </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      img.face </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">        height: 50px;
</span></span></span><span class="line"><span class="cl"><span class="s1">      </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">    </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">    @media (max-width: 480px) </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      body </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">        padding: 5px;
</span></span></span><span class="line"><span class="cl"><span class="s1">      </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      .followers-content </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">        padding: 10px;
</span></span></span><span class="line"><span class="cl"><span class="s1">      </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      * </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">        font-size: 16px;
</span></span></span><span class="line"><span class="cl"><span class="s1">      </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">      img.face </span><span class="se">{{</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">        height: 40px;
</span></span></span><span class="line"><span class="cl"><span class="s1">      </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">    </span><span class="se">}}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">  &lt;/style&gt;
</span></span></span><span class="line"><span class="cl"><span class="s1">&lt;/head&gt;
</span></span></span><span class="line"><span class="cl"><span class="s1">&lt;body&gt;
</span></span></span><span class="line"><span class="cl"><span class="s1">  &lt;div class=&#34;container&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="s1">    &lt;div class=&#34;header&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="s1">      &lt;h1&gt;ç²‰ä¸åˆ—è¡¨&lt;/h1&gt;
</span></span></span><span class="line"><span class="cl"><span class="s1">      &lt;p&gt;å…± </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">followers</span><span class="p">)</span><span class="si">}</span><span class="s1"> ä½ç²‰ä¸ï¼ˆå·²è¿‡æ»¤é»˜è®¤å¤´åƒç”¨æˆ·ï¼‰&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="s1">    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">    &lt;div class=&#34;followers-content&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="s1">      </span><span class="si">{</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s1">&#39;&lt;div class=&#34;inline-block&#34;&gt;&lt;div class=&#34;info&#34;&gt;&lt;div class=&#34;image-wrap&#34;&gt;&lt;img class=&#34;face&#34; src=&#34;</span><span class="si">{</span><span class="n">f</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&#34;face&#34;</span><span class="p">,</span> <span class="s2">&#34;&#34;</span><span class="p">)</span><span class="si">}</span><span class="s1">&#34; referrerpolicy=&#34;no-referrer&#34; /&gt;&lt;/div&gt; &lt;div&gt;&lt;strong&gt;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">encode_html</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&#34;name&#34;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">f</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&#34;uname&#34;</span><span class="p">,</span> <span class="s2">&#34;&#34;</span><span class="p">))</span><span class="si">}</span><span class="s1">&lt;/strong&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#39;</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">followers</span><span class="p">])</span><span class="si">}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="s1">  &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="s1">&lt;/body&gt;
</span></span></span><span class="line"><span class="cl"><span class="s1">&lt;/html&gt;&#39;&#39;&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># å†™å…¥æ–‡ä»¶</span>
</span></span><span class="line"><span class="cl">        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">output_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;æˆåŠŸç”Ÿæˆç²‰ä¸åˆ—è¡¨HTMLæ–‡ä»¶ï¼Œå…±åŒ…å« </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">followers</span><span class="p">)</span><span class="si">}</span><span class="s1"> ä¸ªç²‰ä¸&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;ä¸»å‡½æ•°&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">fetcher</span> <span class="o">=</span> <span class="n">BilibiliFetcher</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># åˆ›å»ºä¼šè¯</span>
</span></span><span class="line"><span class="cl">        <span class="k">await</span> <span class="n">fetcher</span><span class="o">.</span><span class="n">create_session</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1"># è·å–ç”¨æˆ·UID</span>
</span></span><span class="line"><span class="cl">        <span class="k">await</span> <span class="n">fetcher</span><span class="o">.</span><span class="n">get_user_info</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1"># è·å–æ‰€æœ‰ç²‰ä¸ä¿¡æ¯</span>
</span></span><span class="line"><span class="cl">        <span class="n">followers</span> <span class="o">=</span> <span class="k">await</span> <span class="n">fetcher</span><span class="o">.</span><span class="n">get_all_followers</span><span class="p">(</span><span class="n">max_pages</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1"># è·å–æ‰€æœ‰ç²‰ä¸çš„è¯¦ç»†ä¿¡æ¯</span>
</span></span><span class="line"><span class="cl">        <span class="k">await</span> <span class="n">fetcher</span><span class="o">.</span><span class="n">get_followers_detail_info</span><span class="p">(</span><span class="n">followers</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1"># è·å–æ‰€æœ‰ç²‰ä¸çš„ç²‰ä¸æ•°</span>
</span></span><span class="line"><span class="cl">        <span class="k">await</span> <span class="n">fetcher</span><span class="o">.</span><span class="n">get_followers_stats</span><span class="p">(</span><span class="n">followers</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1"># è¿‡æ»¤æ‰ä½¿ç”¨é»˜è®¤å¤´åƒçš„ç”¨æˆ·</span>
</span></span><span class="line"><span class="cl">        <span class="n">filtered_followers</span> <span class="o">=</span> <span class="n">fetcher</span><span class="o">.</span><span class="n">filter_default_avatars</span><span class="p">(</span><span class="n">followers</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1"># ç”ŸæˆHTMLæ–‡ä»¶</span>
</span></span><span class="line"><span class="cl">        <span class="n">fetcher</span><span class="o">.</span><span class="n">generate_html</span><span class="p">(</span><span class="n">filtered_followers</span><span class="p">,</span> <span class="s1">&#39;followers.html&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;ç¨‹åºè¿è¡Œå‡ºé”™: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">    <span class="k">finally</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># å…³é—­ä¼šè¯</span>
</span></span><span class="line"><span class="cl">        <span class="k">await</span> <span class="n">fetcher</span><span class="o">.</span><span class="n">close_session</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&#34;__main__&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">exit_code</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">        <span class="n">exit</span><span class="p">(</span><span class="n">exit_code</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;</span><span class="se">\n</span><span class="s2">ç¨‹åºè¢«ç”¨æˆ·ä¸­æ–­&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;ç¨‹åºè¿è¡Œå‡ºé”™: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>{% endraw %}</p>
<h2 id="å…«æ€»ç»“">å…«ã€æ€»ç»“<a hidden class="anchor" aria-hidden="true" href="#å…«æ€»ç»“">#</a></h2>
<p>æœ¬å·¥å…·ä¸ºBilibiliç”¨æˆ·æä¾›äº†ä¸€ä¸ªç®€å•æ˜“ç”¨çš„ç²‰ä¸æ•°æ®è·å–è§£å†³æ–¹æ¡ˆã€‚é€šè¿‡å¼‚æ­¥å¤„ç†å’Œæ‰¹é‡APIè°ƒç”¨ï¼Œèƒ½å¤Ÿé«˜æ•ˆåœ°è·å–å’Œå±•ç¤ºç²‰ä¸ä¿¡æ¯ã€‚ä½¿ç”¨æ—¶è¯·æ³¨æ„éµå®ˆç›¸å…³è§„å®šï¼Œåˆç†ä½¿ç”¨ï¼Œä¿æŠ¤ç”¨æˆ·éšç§ã€‚</p>
<p>å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åé¦ˆäº¤æµã€‚</p>
<h2 id="è§†é¢‘ç‰ˆæœ¬">è§†é¢‘ç‰ˆæœ¬<a hidden class="anchor" aria-hidden="true" href="#è§†é¢‘ç‰ˆæœ¬">#</a></h2>
<ul>
<li><a href="https://space.bilibili.com/3546607630944387">å“”å“©å“”å“©</a></li>
<li><a href="https://www.youtube.com/@itxiaozhang">YouTube</a></li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/python/">Python</a></li>
      <li><a href="http://localhost:1313/tags/%E7%88%AC%E8%99%AB/">çˆ¬è™«</a></li>
      <li><a href="http://localhost:1313/tags/%E5%93%94%E5%93%A9%E5%93%94%E5%93%A9/">å“”å“©å“”å“©</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="http://localhost:1313/">ITå°ç« </a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'å¤åˆ¶';

        function copyingDone() {
            copybutton.innerHTML = 'å·²å¤åˆ¶ï¼';
            setTimeout(() => {
                copybutton.innerHTML = 'å¤åˆ¶';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
